generator client {
  provider = "prisma-client-js"
  output   = "../app/generated/prisma"
}

datasource db {
  provider = "postgresql"
  // url      = env("DATABASE_URL")
}

// --- 1. ADMIN PANEL ACCESS ---
model Admin {
  id        Int      @id @default(autoincrement())
  name      String
  email     String   @unique
  password  String // Store hashed password here
  createdAt DateTime @default(now())
}

// --- 2. MAIN SERVICE PAGE (The Dynamic Route) ---
model ServiceRoute {
  id Int @id @default(autoincrement())

  // URL & Identification
  slug     String  @unique // e.g. "lucknow-to-delhi-ncr"
  isActive Boolean @default(true)

  // Hero Section Data
  title     String // e.g. "Lucknow to Delhi NCR"
  tagline   String // e.g. "The Capital Express - Premium Outstation Taxi"
  heroImage String // URL for the main background image

  // Stats Strip
  distance  String // e.g. "550 km" (String allows "approx 550km")
  duration  String // e.g. "8-9 Hours"
  basePrice Int // e.g. 6500 (Store numbers for sorting/logic)

  // Content Section
  description String @db.Text // Long description text

  // Highlights (MySQL doesn't support String[], so we use Json)
  // Example data: ["Yamuna Expressway Route", "2 Refreshment Breaks"]
  highlights Json

  // --- SEO & META DATA (Your "Chronicals" request) ---
  metaTitle       String? // Overrides title for <title> tag
  metaDescription String? @db.Text // For <meta name="description">
  canonicalUrl    String? // The "Chronicle/Canonical" link for SEO authority
  keywords        String? // Comma separated keywords

  // --- RELATIONS ---
  gallery  RouteGallery[] // The "Sights Along the Way" images
  packages VehiclePackage[] // The "Choose Your Comfort" cards

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

// --- 3. PRICING CARDS ("Choose Your Comfort") ---
model VehiclePackage {
  id Int @id @default(autoincrement())

  // Display Info
  category String // e.g. "Sedan", "SUV", "Premium"
  carModel String // e.g. "Dzire / Etios"
  image    String // URL of the car image

  // Specs
  price Int // e.g. 6500
  seats Int // e.g. 4
  bags  Int // e.g. 2

  // Relation to Parent Route
  routeId Int
  route   ServiceRoute @relation(fields: [routeId], references: [id], onDelete: Cascade)
}

// --- 4. DESTINATION GALLERY ("Sights Along the Way") ---
model RouteGallery {
  id       Int     @id @default(autoincrement())
  imageUrl String
  altText  String? // Good for SEO
  caption  String? // "Main Attraction", "River View", etc.

  // Relation
  routeId Int
  route   ServiceRoute @relation(fields: [routeId], references: [id], onDelete: Cascade)
}
